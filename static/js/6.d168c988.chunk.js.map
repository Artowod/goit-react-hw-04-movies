{"version":3,"sources":["shared/services/Api.jsx","pages/Pages.module.css","pages/MovieDetailsPage.jsx"],"names":["getTrendingRequest","sendParam","api_key","axios","get","host","endpoint","getTrending","params","getMovieDetailRequest","id","getMovieDetail","catch","error","console","log","toJSON","Promise","reject","Error","then","data","getMovieCreditsRequest","getMovieReviewsRequest","searchMovie","query","module","exports","Credits","lazy","Reviews","MovieDetails","AdditionalInfo","MovieDetailsPage","state","useLocation","useState","readyStatus","setReadyStatus","movieId","useParams","url","useRouteMatch","movie","setMovie","useEffect","className","s","link","to","prevPageParam","fallback","movieData","path","exact"],"mappings":"yIAAA,uMAIO,SAASA,IACd,IAAMC,EAAY,CAChBC,aAOF,OAJiBC,IAAMC,IAAIC,IAAOC,IAASC,YAAa,CACtDC,OAAQP,IAML,SAASQ,EAAsBC,GACpC,IAAMT,EAAY,CAChBC,aAYF,OATiBC,IACdC,IAAIC,IAAOC,IAASK,eAAiBD,EAAI,CACxCF,OAAQP,IAETW,OAAM,SAAUC,GAEf,OADAC,QAAQC,IAAIF,EAAMG,UACXC,QAAQC,OAAO,IAAIC,MAAM,iBAGpBC,MAAK,qBAAGC,QAGnB,SAASC,EAAuBZ,GACrC,IAAMT,EAAY,CAChBC,aAYF,OATiBC,IACdC,IAAIC,IAAOC,IAASK,eAAiBD,EAAK,WAAY,CACrDF,OAAQP,IAETW,OAAM,SAAUC,GAEf,OADAC,QAAQC,IAAIF,EAAMG,UACXC,QAAQC,OAAO,IAAIC,MAAM,iBAGpBC,MAAK,qBAAGC,QAGnB,SAASE,EAAuBb,GACrC,IAAMT,EAAY,CAChBC,aAYF,OATiBC,IACdC,IAAIC,IAAOC,IAASK,eAAiBD,EAAK,WAAY,CACrDF,OAAQP,IAETW,OAAM,SAAUC,GAEf,OADAC,QAAQC,IAAIF,EAAMG,UACXC,QAAQC,OAAO,IAAIC,MAAM,iBAGpBC,MAAK,qBAAGC,QAGnB,SAASG,EAAYC,GAC1B,IAAMxB,EAAY,CAChBC,YACAuB,SAOF,OAJiBtB,IAAMC,IAAIC,IAAOC,IAASkB,YAAa,CACtDhB,OAAQP,M,+RCzEZyB,EAAOC,QAAU,CAAC,KAAO,oBAAoB,gBAAkB,iC,wGCWzDC,EAAUC,gBAAK,kBAAM,gCACrBC,EAAUD,gBAAK,kBAAM,gCACrBE,EAAeF,gBAAK,kBAAM,iCAC1BG,EAAiBH,gBAAK,kBAC1B,gCAmDaI,UAhDU,WACvB,IAAQC,EAAUC,cAAVD,MACR,EAAsCE,oBAAS,GAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACQC,EAAYC,cAAZD,QACAE,EAAQC,cAARD,IACR,EAA0BL,mBAAS,IAAnC,mBAAOO,EAAP,KAAcC,EAAd,KAYA,OAVAC,qBAAU,WACRpC,YAAsB8B,GACnBnB,MAAK,SAAAC,GAAI,OAAIA,GAAQuB,EAASvB,MAC9BD,KAAKkB,GAAe,IACpB1B,OAAM,SAAAC,GACLC,QAAQC,IAAI,UAAWF,QAG1B,IAGD,qCACE,cAAC,IAAD,CACEiC,UAAWC,IAAEC,KACbC,GAAIf,EAAMgB,cAAN,wBAAuChB,EAAMgB,eAAkB,IAFrE,kBAOCb,GAAeM,GACd,mCACE,eAAC,WAAD,CAAUQ,SAAU,6CAApB,UACE,cAACpB,EAAD,CAAcqB,UAAWT,IAEzB,eAAC,IAAD,WACE,cAACX,EAAD,CAAgBE,MAAOA,EAAOO,IAAKA,EAAKF,QAASA,IAEjD,cAAC,IAAD,CAAOc,KAAK,2BAA2BC,OAAK,EAA5C,SACE,cAAC1B,EAAD,CAASW,QAASA,MAEpB,cAAC,IAAD,CAAOc,KAAK,2BAA2BC,OAAK,EAA5C,SACE,cAACxB,EAAD,CAASS,QAASA","file":"static/js/6.d168c988.chunk.js","sourcesContent":["import { api_key, host, endpoint } from './settings.json';\r\n\r\nimport axios from 'axios';\r\n\r\nexport function getTrendingRequest() {\r\n  const sendParam = {\r\n    api_key,\r\n  };\r\n\r\n  const response = axios.get(host + endpoint.getTrending, {\r\n    params: sendParam,\r\n  });\r\n\r\n  return response;\r\n}\r\n\r\nexport function getMovieDetailRequest(id) {\r\n  const sendParam = {\r\n    api_key,\r\n  };\r\n\r\n  const response = axios\r\n    .get(host + endpoint.getMovieDetail + id, {\r\n      params: sendParam,\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.toJSON());\r\n      return Promise.reject(new Error('Not found'));\r\n    });\r\n\r\n  return response.then(({ data }) => data);\r\n}\r\n\r\nexport function getMovieCreditsRequest(id) {\r\n  const sendParam = {\r\n    api_key,\r\n  };\r\n\r\n  const response = axios\r\n    .get(host + endpoint.getMovieDetail + id + '/credits', {\r\n      params: sendParam,\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.toJSON());\r\n      return Promise.reject(new Error('Not found'));\r\n    });\r\n\r\n  return response.then(({ data }) => data);\r\n}\r\n\r\nexport function getMovieReviewsRequest(id) {\r\n  const sendParam = {\r\n    api_key,\r\n  };\r\n\r\n  const response = axios\r\n    .get(host + endpoint.getMovieDetail + id + '/reviews', {\r\n      params: sendParam,\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.toJSON());\r\n      return Promise.reject(new Error('Not found'));\r\n    });\r\n\r\n  return response.then(({ data }) => data);\r\n}\r\n\r\nexport function searchMovie(query) {\r\n  const sendParam = {\r\n    api_key,\r\n    query,\r\n  };\r\n\r\n  const response = axios.get(host + endpoint.searchMovie, {\r\n    params: sendParam,\r\n  });\r\n\r\n  return response;\r\n}\r\n\r\n//=====================================\r\n\r\n//   \"api_key\": \"13b5a298ebf841dea0e3d6624b351e0e\",\r\n//   \"host\": \"https://api.themoviedb.org/3/\",\r\n//   \"endpoint\": {\r\n//     \"getTrending\": \"trending/movie/day\", //https://api.themoviedb.org/3/trending/movie/day?api_key=13b5a298ebf841dea0e3d6624b351e0e\r\n//     \"searchMovie\": \"search/movie\", // https://api.themoviedb.org/3/search/movie?api_key=13b5a298ebf841dea0e3d6624b351e0e&language=en-US&page=1&include_adult=false&query=steel\r\n//     \"getMovieDetail\": \"movie/<<id>>\", // https://api.themoviedb.org/3/movie/370172?api_key=13b5a298ebf841dea0e3d6624b351e0e&language=en-US\r\n//     \"getMovieCredits\": \"movie/<<id>>/credits\", // https://api.themoviedb.org/3/movie/370172/credits?api_key=13b5a298ebf841dea0e3d6624b351e0e&language=en-US\r\n//     \"getMovieReviews\": \"movie/<<id>>/reviews\" //https://api.themoviedb.org/3/movie/370172/reviews?api_key=13b5a298ebf841dea0e3d6624b351e0e&language=en-US&page=1\r\n//   }\r\n// }\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Pages_link__3p8GL\",\"addInfo_wrapper\":\"Pages_addInfo_wrapper__2ugfu\"};","import {\r\n  Link,\r\n  useRouteMatch,\r\n  useParams,\r\n  Route,\r\n  useLocation,\r\n  BrowserRouter,\r\n} from 'react-router-dom';\r\nimport { useState, useEffect, Suspense, lazy } from 'react';\r\nimport { getMovieDetailRequest } from '../shared/services/Api.jsx';\r\nimport s from './Pages.module.css';\r\n\r\nconst Credits = lazy(() => import('../components/Credits/Credits'));\r\nconst Reviews = lazy(() => import('../components/Reviews/Reviews'));\r\nconst MovieDetails = lazy(() => import('../components/MovieDetails'));\r\nconst AdditionalInfo = lazy(() =>\r\n  import('../components/MovieDetails/AdditionalInfo'),\r\n);\r\n\r\nconst MovieDetailsPage = () => {\r\n  const { state } = useLocation();\r\n  const [readyStatus, setReadyStatus] = useState(false);\r\n  const { movieId } = useParams();\r\n  const { url } = useRouteMatch();\r\n  const [movie, setMovie] = useState({});\r\n\r\n  useEffect(() => {\r\n    getMovieDetailRequest(movieId)\r\n      .then(data => data && setMovie(data))\r\n      .then(setReadyStatus(true))\r\n      .catch(error => {\r\n        console.log('error: ', error);\r\n      });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Link\r\n        className={s.link}\r\n        to={state.prevPageParam ? `/movies?query=${state.prevPageParam}` : '/'}\r\n      >\r\n        Back\r\n      </Link>\r\n\r\n      {readyStatus && movie && (\r\n        <>\r\n          <Suspense fallback={<h2> Lodaing...</h2>}>\r\n            <MovieDetails movieData={movie} />\r\n\r\n            <BrowserRouter>\r\n              <AdditionalInfo state={state} url={url} movieId={movieId} />\r\n\r\n              <Route path=\"/movies/:movieId/credits\" exact>\r\n                <Credits movieId={movieId} />\r\n              </Route>\r\n              <Route path=\"/movies/:movieId/reviews\" exact>\r\n                <Reviews movieId={movieId} />\r\n              </Route>\r\n            </BrowserRouter>\r\n          </Suspense>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieDetailsPage;\r\n"],"sourceRoot":""}