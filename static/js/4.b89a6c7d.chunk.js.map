{"version":3,"sources":["shared/services/Api.jsx","components/MoviesList/MoviesList.module.css","components/MoviesList/MoviesList.jsx","components/SearchBar/SearchBar.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/SearchBar/SearchBar.jsx","pages/MoviesPage.jsx"],"names":["getTrendingRequest","sendParam","api_key","axios","get","host","endpoint","getTrending","params","getMovieDetailRequest","id","getMovieDetail","catch","error","console","log","toJSON","Promise","reject","Error","then","data","getMovieCreditsRequest","getMovieReviewsRequest","searchMovie","query","module","exports","MoviesList","moviesData","prevPageParam","className","s","wrapper","map","title","item","to","pathname","state","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","SearchBar","useState","searchInput","setSearchInput","location","useLocation","history","useHistory","searchBar","searchForm_input","type","autoComplete","name","autoFocus","placeholder","onChange","e","searchForm_button","onClick","search","MoviesPage","searchParam","URLSearchParams","galleryByRequest","setGalleryByRequest","useEffect","results"],"mappings":"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","file":"static/js/4.b89a6c7d.chunk.js","sourcesContent":["import { api_key, host, endpoint } from './settings.json';\r\n\r\nimport axios from 'axios';\r\n\r\nexport function getTrendingRequest() {\r\n  const sendParam = {\r\n    api_key,\r\n  };\r\n\r\n  const response = axios.get(host + endpoint.getTrending, {\r\n    params: sendParam,\r\n  });\r\n\r\n  return response;\r\n}\r\n\r\nexport function getMovieDetailRequest(id) {\r\n  const sendParam = {\r\n    api_key,\r\n  };\r\n\r\n  const response = axios\r\n    .get(host + endpoint.getMovieDetail + id, {\r\n      params: sendParam,\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.toJSON());\r\n      return Promise.reject(new Error('Not found'));\r\n    });\r\n\r\n  return response.then(({ data }) => data);\r\n}\r\n\r\nexport function getMovieCreditsRequest(id) {\r\n  const sendParam = {\r\n    api_key,\r\n  };\r\n\r\n  const response = axios\r\n    .get(host + endpoint.getMovieDetail + id + '/credits', {\r\n      params: sendParam,\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.toJSON());\r\n      return Promise.reject(new Error('Not found'));\r\n    });\r\n\r\n  return response.then(({ data }) => data);\r\n}\r\n\r\nexport function getMovieReviewsRequest(id) {\r\n  const sendParam = {\r\n    api_key,\r\n  };\r\n\r\n  const response = axios\r\n    .get(host + endpoint.getMovieDetail + id + '/reviews', {\r\n      params: sendParam,\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.toJSON());\r\n      return Promise.reject(new Error('Not found'));\r\n    });\r\n\r\n  return response.then(({ data }) => data);\r\n}\r\n\r\nexport function searchMovie(query) {\r\n  const sendParam = {\r\n    api_key,\r\n    query,\r\n  };\r\n\r\n  const response = axios.get(host + endpoint.searchMovie, {\r\n    params: sendParam,\r\n  });\r\n\r\n  return response;\r\n}\r\n\r\n//=====================================\r\n\r\n//   \"api_key\": \"13b5a298ebf841dea0e3d6624b351e0e\",\r\n//   \"host\": \"https://api.themoviedb.org/3/\",\r\n//   \"endpoint\": {\r\n//     \"getTrending\": \"trending/movie/day\", //https://api.themoviedb.org/3/trending/movie/day?api_key=13b5a298ebf841dea0e3d6624b351e0e\r\n//     \"searchMovie\": \"search/movie\", // https://api.themoviedb.org/3/search/movie?api_key=13b5a298ebf841dea0e3d6624b351e0e&language=en-US&page=1&include_adult=false&query=steel\r\n//     \"getMovieDetail\": \"movie/<<id>>\", // https://api.themoviedb.org/3/movie/370172?api_key=13b5a298ebf841dea0e3d6624b351e0e&language=en-US\r\n//     \"getMovieCredits\": \"movie/<<id>>/credits\", // https://api.themoviedb.org/3/movie/370172/credits?api_key=13b5a298ebf841dea0e3d6624b351e0e&language=en-US\r\n//     \"getMovieReviews\": \"movie/<<id>>/reviews\" //https://api.themoviedb.org/3/movie/370172/reviews?api_key=13b5a298ebf841dea0e3d6624b351e0e&language=en-US&page=1\r\n//   }\r\n// }\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MoviesList_wrapper__uCjWl\"};","import s from './MoviesList.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst MoviesList = ({ moviesData, prevPageParam }) => {\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <ul>\r\n        {moviesData.map(({ title, id }) => (\r\n          <li className={s.item} key={id}>\r\n            <Link\r\n              to={{\r\n                pathname: `/movies/${id}`,\r\n                state: { prevPageParam: prevPageParam },\r\n              }}\r\n            >\r\n              {' '}\r\n              {title}{' '}\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nMoviesList.propTypes = {\r\n  moviesData: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  prevPageParam: PropTypes.string,\r\n};\r\n\r\nexport default MoviesList;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__id4QJ\",\"searchForm_input\":\"SearchBar_searchForm_input__Y41f_\",\"searchForm_button\":\"SearchBar_searchForm_button__1HzM6\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { useState } from 'react';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\nimport s from './SearchBar.module.css';\r\n\r\nconst SearchBar = () => {\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  const onInputChange = e => {\r\n    const { value } = e.target;\r\n    setSearchInput(value);\r\n  };\r\n  const searchHandler = e => {\r\n    history.push({ ...location, search: `query=${searchInput}` });\r\n  };\r\n\r\n  return (\r\n    <header className={s.searchBar}>\r\n      <input\r\n        className={s.searchForm_input}\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        name=\"searchInput\"\r\n        value={searchInput}\r\n        autoFocus\r\n        placeholder=\"please type keyword here\"\r\n        onChange={onInputChange}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className={s.searchForm_button}\r\n        onClick={searchHandler}\r\n      >\r\n        Search\r\n      </button>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import MoviesList from '../components/MoviesList';\r\nimport SearchBar from '../components/SearchBar';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { searchMovie } from '../shared/services/Api.jsx';\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst MoviesPage = () => {\r\n  const location = useLocation();\r\n  const searchParam = new URLSearchParams(location.search).get('query');\r\n\r\n  const [galleryByRequest, setGalleryByRequest] = useState([]);\r\n\r\n  useEffect(() => {\r\n    searchParam &&\r\n      searchMovie(searchParam)\r\n        .then(({ data }) => {\r\n          setGalleryByRequest(data.results);\r\n        })\r\n        .catch(error => {\r\n          console.log('error: ', error);\r\n        });\r\n  }, [searchParam]);\r\n\r\n  return (\r\n    <>\r\n      <SearchBar />\r\n      {searchParam && (\r\n        <MoviesList moviesData={galleryByRequest} prevPageParam={searchParam} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}